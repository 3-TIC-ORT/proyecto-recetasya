<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Recetas</title>
    <link rel="stylesheet" href="pmisrecetas.css">
</head>
<body>

    <!-- BOT√ìN HOME -->
    <button id="home">
        <img class="casita" src="IMAGENES FRONT/home.png" alt="Imagen Volver al inicio">
        <h5 class="vi">Volver al inicio</h5>    
    </button>
    
    <!-- CABECERA CON LOGO -->
    <div class="cabeza">
        <img class="logodef" src="IMAGENES FRONT/Logodef.png" alt="Logo RecipEat">
    </div>

    <!-- T√çTULO PRINCIPAL -->
    <div class="texto">
        <h2 class="titulo">MI RECETARIO</h2>
    </div>

    <!-- PESTA√ëAS PARA CAMBIAR ENTRE FAVORITOS Y CREADAS -->
    <div class="tabs-container">
        <button class="tab-button active" data-tab="favoritos">
            ‚≠ê Mis Favoritos
        </button>
        <button class="tab-button" data-tab="creadas">
            üìù Mis Recetas Creadas
        </button>
    </div>
    
    <!-- ESTADO VAC√çO (se muestra cuando no hay recetas) -->
    <div class="empty-state" id="emptyState" style="display: none;">
        <div class="empty-icon">
            <svg viewBox="0 0 100 100">
                <line x1="65" y1="65" x2="85" y2="85" stroke="#3d4a28" stroke-width="8" stroke-linecap="round" />
                <circle cx="45" cy="45" r="25" stroke="#3d4a28" stroke-width="6" fill="transparent" />
                <path d="M 55 35 Q 60 40 55 45" stroke="#3d4a28" stroke-width="3" fill="transparent" opacity="0.5" stroke-linecap="round"/>
            </svg>
        </div>
        <div class="empty-title">No hay recetas aqu√≠</div>
        <div class="empty-subtitle" id="emptySubtitle">Agrega recetas a favoritos o crea las tuyas propias</div>
    </div>
    
    <!-- CONTENEDOR DE RECETAS -->
    <div class="recetas-container" id="recetasContainer">
        <!-- Las recetas se inyectan aqu√≠ din√°micamente -->
    </div>

    <!-- BOT√ìN FLOTANTE PARA AGREGAR NUEVA RECETA -->
    <button class="btn-agregar" id="btnAgregar">+</button>

    <!-- MODAL: FORMULARIO NUEVA RECETA -->
    <div class="modal-overlay" id="modalForm">
        <div class="modal-content">
            <span class="close-btn" id="closeModal">&times;</span>
            <h2 style="text-align: center; margin-top:0; color: #3d4a28;">Nueva Receta</h2>
            
            <form id="formReceta">
                <div class="form-group">
                    <label for="nombre">Nombre de la receta:</label>
                    <input type="text" id="nombre" placeholder="Ej: Tarta de Manzana" required>
                </div>
                
                <div class="form-group">
                    <label for="imagenInput">Subir Foto del Plato (Opcional):</label>
                    <input type="file" id="imagenInput" accept="image/*">
                    <div class="preview-container">
                        <span id="previewText">Vista previa de la imagen</span>
                        <img id="imagenPreview" src="" alt="Vista previa">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="categoria">Categor√≠a:</label>
                    <select id="categoria">
                        <option value="Dulce">Dulce</option>
                        <option value="Salado">Salado</option>
                        <option value="Bebida">Bebida</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="apto">Apto para:</label>
                    <select id="apto">
                        <option value="ConTACC">Con TACC</option>
                        <option value="SinTACC">Sin TACC</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="ingredientes">Ingredientes (separados por coma o enter):</label>
                    <textarea id="ingredientes" placeholder="Ej: Harina, Huevos, Leche..." required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="pasos">Pasos (separados por coma o enter):</label>
                    <textarea id="pasos" placeholder="Ej: Paso 1: Batir huevos. Paso 2: Mezclar harina..." required></textarea>
                </div>
                
                <button type="submit" class="btn-submit">Publicar Receta</button>
            </form>
        </div>
    </div>

    <!-- MODAL: ADVERTENCIA SIN IMAGEN -->
    <div class="modal-overlay" id="modalAdvertenciaImagen">
        <div class="modal-alert-content">
            <h3 style="color: #3d4a28;">¬øPublicar sin foto?</h3>
            <p>Te recomendamos agregar una imagen para que tu receta se vea mejor.</p>
            <div class="btn-accion-container">
                <button class="btn-cancelar" id="btnVolverSubir">Volver y subir</button>
                <button class="btn-confirmar-verde" id="btnPublicarSinFoto">Publicar sin foto</button>
            </div>
        </div>
    </div>

    <!-- MODAL: CONFIRMACI√ìN BORRAR -->
    <div class="modal-overlay" id="modalConfirmacionBorrar">
        <div class="modal-alert-content">
            <h3 style="color: #d32f2f;">¬øEliminar Receta?</h3>
            <p>¬øEst√°s seguro de que deseas eliminar esta receta? Esta acci√≥n no se puede deshacer.</p>
            <div class="btn-accion-container">
                <button class="btn-cancelar" id="btnCancelarBorrar">Cancelar</button>
                <button class="btn-confirmar-rojo" id="btnConfirmarBorrar">S√≠, Eliminar</button>
            </div>
        </div>
    </div>

    <!-- POPUP DE √âXITO -->
    <div class="success-popup" id="popupExito">
        <span class="checkmark">‚úî</span>
        <h3 id="mensajeExitoTitulo">¬°Receta Guardada!</h3>
        <p id="mensajeExitoTexto">Tu receta se ha guardado correctamente.</p>
        <button id="btnCerrarPopup" class="btn-submit" style="width: auto; margin-top: 1rem;">Aceptar</button>
    </div>

    <!-- SCRIPTS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.8.1/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JZylber/SoqueTIC-Client@v1.4.2/soquetic-client.js"></script>
    <script src="pmisrecetas.js"></script>
</body>
</html>